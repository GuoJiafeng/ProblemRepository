**Session处理**
另一方面就是多个业务逻辑单元之间的Session处理，处理方式有两种，一种是Session sticky模式，另外一种是Session共享模式。

| Session处理方式 | Session Sticky                                               | Session共享                                                  |
| --------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 处理逻辑        | 把同一个用户的Session一直发送到同一个逻辑单元处理            | 所有的后端处理逻辑单元共享Session或者Session更新时通知其它逻辑单元 |
| 主要实现方式    | 指定负载的分发组件（如Apache），把请求中包含特定属性的请求发到同一个连接，如指定jsessionid一致的请求到同一个请求，或者在负载组件中给每个响应增加一个头部属性，指定下次的分发目的地 | 1.       各自维护Session，当请求处理结束后，通知其它组件单元更新Session，包括异步和同步模式2.       统一维护Session，如把Session放在memcached或者共享文件系统中，可以在容器级别或者应用级别做这个事情3.       利用cache server |
| 优势            | 本地维护Session，不需要访问网络存取或者通知其它处理单元变更  | 完全的随机分发，可以根据服务忙闲调整分发策略，高可用性       |
| 劣势            | 一台服务器宕机后，当前Session断掉                            | 网络存取操作等耗时，影响处理效率（根据选用的策略不同造成影响不同） |

